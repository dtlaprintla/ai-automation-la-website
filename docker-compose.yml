version: '3.8'

services:
  ai-automation-la:
    build: 
      context: .
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - NEXT_TELEMETRY_DISABLED=1
      - COMPANY_NAME=AI Automation LA
      - COMPANY_PHONE=(323) 555-0123
      - COMPANY_EMAIL=hello@aiautomationla.com
      - COMPANY_ADDRESS=4905 S Santa Fe Ave, Vernon, CA 90058
    restart: unless-stopped
    container_name: ai-automation-la-web
    
  # nginx reverse proxy (optional - for production)
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/ssl/certs:ro  # Add SSL certificates here
    depends_on:
      - ai-automation-la
    restart: unless-stopped
    container_name: ai-automation-la-nginx
    profiles:
      - production